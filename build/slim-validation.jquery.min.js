/** slim-validation v0.2.0 */
!function(a){a.fn.ValidationRule=function(a){return{validate:a}},a.fn.Validator=function(){var b={required:new a.fn.ValidationRule(function(a){return"undefined"!=typeof a&&""!==a}),requiredBy:a.extend(new a.fn.ValidationRule(function(b,c){return 0===a(c).length||""===a(c).val()||"undefined"!=typeof b&&""!==b}),{withParam:!0}),numeric:a.extend(new a.fn.ValidationRule(function(a){return"undefined"!=typeof a&&/^\d+$/.test(a)}),{cleanVal:function(a){return a.replace(/[^\w]/gi,"")}}),integer:a.extend(new a.fn.ValidationRule(function(a){return a==parseInt(a)}),{cleanVal:function(a){return a.replace(/[^\w\-]/gi,"")}}),min:a.extend(new a.fn.ValidationRule(function(a,c){return b.integer.validate(a)&&parseInt(a)>=parseInt(c)}),{withParam:!0,cleanVal:function(a,c){if("undefined"!=typeof c&&!b.integer.validate(c))throw new Error("Parameter '"+c+"' for validation rule 'min' is not a valid integer.");return b.integer.cleanVal(a)}}),max:a.extend(new a.fn.ValidationRule(function(a,c){return b.integer.validate(a)&&parseInt(a)<=parseInt(c)}),{withParam:!0,cleanVal:function(a,c){if("undefined"!=typeof c&&!b.integer.validate(c))throw new Error("Parameter "+c+" for validation rule 'max' is not a valid integer.");return b.integer.cleanVal(a)}}),range:a.extend(new a.fn.ValidationRule(function(a,c){var d=c.split("..");return b.integer.validate(a)&&b.min.validate(a,d[0])&&b.max.validate(a,d[1])}),{withParam:!0,cleanVal:function(a,c){if("undefined"!=typeof c&&c){var d=c.split("..");if(2!=d.length||!b.integer.validate(d[0])||!b.integer.validate(d[1]))throw new Error("Parameter '"+c+"' for validation rule 'range' is not a valid range format: 1..10")}return b.integer.cleanVal(a)}}),number:a.extend(new a.fn.ValidationRule(function(a){return/^[\-]?[\d]+((,|\.)[\d]+)?$/.test(a)||/^[\-]?[\d]{1,3}(,[\d]{3})*(\.[\d]+)?$/.test(a)||/^[\-]?[\d]{1,3}(\.[\d]{3})*(,[\d]+)?$/.test(a)}),{cleanVal:function(a){return a.replace(/[^\w\.\,\-]/gi,"")}}),minLength:a.extend(new a.fn.ValidationRule(function(a,b){return"undefined"!=typeof a&&a.length>=parseInt(b)}),{withParam:!0,cleanVal:function(a,c){if("undefined"!=typeof c&&!b.integer.validate(c))throw new Error("Parameter "+c+" for validation rule 'minLength' is not a valid integer.");return a.trim()}}),maxLength:a.extend(new a.fn.ValidationRule(function(a,b){return"undefined"!=typeof a&&a.length<=parseInt(b)}),{withParam:!0,cleanVal:function(a,c){if("undefined"!=typeof c&&!b.integer.validate(c))throw new Error("Parameter "+c+" for validation rule 'maxLength' is not a valid integer.");return a.trim()}}),email:a.extend(new a.fn.ValidationRule(function(a){var b=new RegExp(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/);return"undefined"!=typeof a&&b.test(a)}),{cleanVal:function(a){return a.trim()}}),telephone:a.extend(new a.fn.ValidationRule(function(a){return!1}),{cleanVal:function(a){return a.replace(/[\+\-\.\s\(\),#:]/gi,"")}})};return b},a.fn.validateInput=function(){for(var b=a(this),c=(b.attr("data-validate")||"").trim().replace(/[\s]{2,}/g," ").split(" "),d=b.attr("id")||b.attr("name"),e=b.val().trim(),f=!0,g=null,h=new a.fn.Validator,i=0;i<c.length&&f;i++){var j=c[i],k=c[i+1]?c[i+1]:null;if(""===j||"skip"===j||"optional"===j&&""===e)break;"undefined"!=typeof h[j]&&("function"==typeof h[j].cleanVal&&(e=h[j].cleanVal(e,k)),h[j].withParam&&i++,h[j].validate(e,k)||(f=!1,g=b.attr("data-error-"+j)||b.attr("data-error")||""))}b.val(e),b.attr("data-is-valid",f),b.trigger("validation:end",[b,e,f,g]);var l=a('[data-validate*="requiredBy #'+b.attr("id")+'"]');return l.length>0&&(d!==l.attr("id")||l.attr("name"))&&l.validateInput(),f},a(window).load(function(){a("body").on("blur","[data-validate]",function(){a(this).validateInput()})})}(jQuery);